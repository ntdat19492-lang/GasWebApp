<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Telegram Themed Mini App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>

    <style id="theme-style">
        body {
            margin: 0;
            padding: 20px;
            font-family: sans-serif;
            background: #ffffff;
            color: #000000;
            transition: 0.2s;
        }

        .box {
            padding: 16px;
            border-radius: 10px;
            background: #f0f0f0;
            margin-top: 15px;
        }
    </style>
</head>
<body>

<h2>Mini App theo giao di·ªán Telegram</h2>
<p>Theme s·∫Ω t·ª± thay ƒë·ªïi khi b·∫°n ƒë·ªïi theme Telegram.</p>

<div class="box">
    ƒê√¢y l√† khung th·ª≠ theme.
</div>

<script>
    const tg = window.Telegram.WebApp;
    tg.ready();
    tg.expand();

    // üü¶ H√†m c·∫≠p nh·∫≠t giao di·ªán theo theme Telegram
    function applyTheme() {
        const p = tg.themeParams;
        const scheme = tg.colorScheme; // 'light' | 'dark'

        // L·∫•y element stylesheet
        const style = document.getElementById("theme-style");

        // G√°n CSS theo m√†u Telegram
        style.innerHTML = `
            body {
                margin: 0;
                padding: 20px;
                font-family: sans-serif;
                background: ${p.bg_color || (scheme === "dark" ? "#0f0f0f" : "#ffffff")};
                color: ${p.text_color || (scheme === "dark" ? "#ffffff" : "#000000")};
            }

            .box {
                padding: 16px;
                border-radius: 10px;
                background: ${p.secondary_bg_color || (scheme === "dark" ? "#1c1c1c" : "#f0f0f0")};
                color: ${p.text_color || (scheme === "dark" ? "#ffffff" : "#000000")};
            }
        `;
    }

    // √Åp d·ª•ng ngay khi load
    applyTheme();

    // Theo d√µi khi ng∆∞·ªùi d√πng ƒë·ªïi theme Telegram
    tg.onEvent("themeChanged", () => {
        applyTheme();
    });
</script>

</body>
</html>
