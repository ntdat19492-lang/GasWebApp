<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Telegram Mini App</title>
<style>
    /* Giao diện dark giống Telegram */
    body {
        margin: 0;
        font-family: Arial, sans-serif;
        background-color: #1c1c1c;
        color: white;
        overflow: hidden; /* chặn cuộn xuống */
    }

    /* Canvas chính */
    #myCanvas {
        display: block;
        margin: 0 auto;
        background-color: #2c2c2c;
    }

    /* Checkbox dưới cùng */
    .checkbox-container {
        position: fixed;
        bottom: 10px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 16px;
    }
</style>
</head>
<body>

<canvas id="myCanvas"></canvas>

<div class="checkbox-container">
    <label><input type="checkbox" id="myCheckbox"> Chọn tùy chọn</label>
</div>

<script>
const canvas = document.getElementById('myCanvas');
const ctx = canvas.getContext('2d');

function resizeCanvas() {
    // Luôn dọc, tỷ lệ 9:16
    const height = window.innerHeight;
    const width = height * 9 / 16;
    canvas.width = width;
    canvas.height = height;

    drawCanvas();
}

function drawCanvas() {
    ctx.fillStyle = "#2c2c2c";
    ctx.fillRect(0,0,canvas.width, canvas.height);

    ctx.fillStyle = "white";
    ctx.font = "24px Arial";
    ctx.fillText("Mini App Telegram", 20, 40);
}

window.addEventListener('resize', resizeCanvas);
resizeCanvas();

// Chặn thao tác vuốt xuống minimize (chỉ cảnh báo, không hoàn toàn chặn được)
window.addEventListener('touchmove', function(e){
    if(e.touches[0].clientY > 50){
        e.preventDefault();
    }
}, { passive: false });

// Cảnh báo khi xoay ngang
function checkOrientation() {
    if(window.innerHeight < window.innerWidth){
        alert("Vui lòng xoay điện thoại về chiều dọc!");
    }
}
window.addEventListener("resize", checkOrientation);
checkOrientation();
</script>

</body>
</html>